{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "GPM Config",
  "name": "gpm.yml",
  "fileMatch": [
    "gpm.json",
    "gpm.yml",
    "gpm.yaml"
  ],
  "description": "A config file for GPM",
  "definitions": {
    "partialConfig": {
      "type": "string",
      "description": "Partial config file path"
    },
    "categories": {
      "anyOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "name"
          ],
          "properties": {
            "name": {
              "type": "string"
            },
            "rank": {
              "type": "integer"
            },
            "children": {
              "oneOf": [
                {
                  "$ref": "#/definitions/partialConfig"
                },
                {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/categories"
                  },
                  "default": []
                }
              ]
            }
          }
        }
      ]
    },
    "properties": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "type": {
            "$ref": "#/definitions/type"
          },
          "value": {
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "number"
              },
              {
                "type": "boolean"
              }
            ]
          },
          "lexicon": {
            "type": "string"
          },
          "area": {
            "type": "string"
          }
        }
      }
    },
    "type": {
      "anyOf": [
        {
          "type": "string",
          "default": "textfield",
          "enum": [
            "textfield",
            "textarea",
            "numberfield",
            "combo-boolean",
            "text-password",
            "modx-combo-category",
            "modx-combo-charset",
            "modx-combo-country",
            "modx-combo-context",
            "modx-combo-namespace",
            "modx-combo-template",
            "modx-combo-user",
            "modx-combo-usergroup",
            "modx-combo-language",
            "modx-combo-source",
            "modx-combo-source-type",
            "modx-combo-manager-theme",
            "modx-grid-json"
          ]
        },
        {
          "type": "string"
        }
      ]
    },
    "eventName": {
      "anyOf": [
        {
          "type": "string",
          "enum": [
            "OnBeforeCacheUpdate",
            "OnBeforeChunkFormDelete",
            "OnBeforeChunkFormSave",
            "OnBeforeDocFormDelete",
            "OnBeforeDocFormSave",
            "OnBeforeEmptyTrash",
            "OnBeforeManagerLogin",
            "OnBeforeManagerLogout",
            "OnBeforeManagerPageInit",
            "OnBeforePluginFormDelete",
            "OnBeforePluginFormSave",
            "OnBeforeRegisterClientScripts",
            "OnBeforeSaveWebPageCache",
            "OnBeforeSnipFormDelete",
            "OnBeforeSnipFormSave",
            "OnBeforeTempFormDelete",
            "OnBeforeTempFormSave",
            "OnBeforeTVFormDelete",
            "OnBeforeTVFormSave",
            "OnBeforeUserActivate",
            "OnBeforeUserDeactivate",
            "OnBeforeUserDuplicate",
            "OnBeforeUserFormDelete",
            "OnBeforeUserFormSave",
            "OnBeforeUserGroupFormRemove",
            "OnBeforeUserGroupFormSave",
            "OnBeforeWebLogin",
            "OnBeforeWebLogout",
            "OnCacheUpdate",
            "OnCategoryBeforeRemove",
            "OnCategoryBeforeSave",
            "OnCategoryRemove",
            "OnCategorySave",
            "OnChunkBeforeRemove",
            "OnChunkBeforeSave",
            "OnChunkFormDelete",
            "OnChunkFormPrerender",
            "OnChunkFormRender",
            "OnChunkFormSave",
            "OnChunkRemove",
            "OnChunkSave",
            "OnContextBeforeRemove",
            "OnContextBeforeSave",
            "OnContextFormPrerender",
            "OnContextFormRender",
            "OnContextRemove",
            "OnContextSave",
            "OnDocFormDelete",
            "OnDocFormPrerender",
            "OnDocFormRender",
            "OnDocFormSave",
            "OnDocPublished",
            "OnDocUnPublished",
            "OnElementNotFound",
            "OnEmptyTrash",
            "OnFileCreateFormPrerender",
            "OnFileEditFormPrerender",
            "OnFileManagerBeforeUpload",
            "OnFileManagerDirCreate",
            "OnFileManagerDirRemove",
            "OnFileManagerDirRename",
            "OnFileManagerFileCreate",
            "OnFileManagerFileRemove",
            "OnFileManagerFileRename",
            "OnFileManagerFileUpdate",
            "OnFileManagerMoveObject",
            "OnFileManagerUpload",
            "OnHandleRequest",
            "OnInitCulture",
            "OnLoadWebDocument",
            "OnLoadWebPageCache",
            "OnManagerAuthentication",
            "OnManagerLogin",
            "OnManagerLoginFormPrerender",
            "OnManagerLoginFormRender",
            "OnManagerLogout",
            "OnManagerPageAfterRender",
            "OnManagerPageBeforeRender",
            "OnManagerPageInit",
            "OnMediaSourceBeforeFormDelete",
            "OnMediaSourceBeforeFormSave",
            "OnMediaSourceDuplicate",
            "OnMediaSourceFormDelete",
            "OnMediaSourceFormSave",
            "OnMediaSourceGetProperties",
            "OnMODXInit",
            "OnPackageInstall",
            "OnPackageRemove",
            "OnPackageUninstall",
            "OnPageNotFound",
            "OnPageUnauthorized",
            "OnParseDocument",
            "OnPluginBeforeRemove",
            "OnPluginBeforeSave",
            "OnPluginEventBeforeRemove",
            "OnPluginEventBeforeSave",
            "OnPluginEventRemove",
            "OnPluginEventSave",
            "OnPluginFormDelete",
            "OnPluginFormPrerender",
            "OnPluginFormRender",
            "OnPluginFormSave",
            "OnPluginRemove",
            "OnPluginSave",
            "OnPropertySetBeforeRemove",
            "OnPropertySetBeforeSave",
            "OnPropertySetRemove",
            "OnPropertySetSave",
            "OnResourceAddToResourceGroup",
            "OnResourceAutoPublish",
            "OnResourceBeforeSort",
            "OnResourceCacheUpdate",
            "OnResourceDelete",
            "OnResourceDuplicate",
            "OnResourceGroupBeforeRemove",
            "OnResourceGroupBeforeSave",
            "OnResourceGroupRemove",
            "OnResourceGroupSave",
            "OnResourceRemoveFromResourceGroup",
            "OnResourceSort",
            "OnResourceToolbarLoad",
            "OnResourceTVFormPrerender",
            "OnResourceTVFormRender",
            "OnResourceUndelete",
            "OnRichTextBrowserInit",
            "OnRichTextEditorInit",
            "OnRichTextEditorRegister",
            "OnSiteRefresh",
            "OnSiteSettingsRender",
            "OnSnipFormDelete",
            "OnSnipFormPrerender",
            "OnSnipFormRender",
            "OnSnipFormSave",
            "OnSnippetBeforeRemove",
            "OnSnippetBeforeSave",
            "OnSnippetRemove",
            "OnSnippetSave",
            "OnTempFormDelete",
            "OnTempFormPrerender",
            "OnTempFormRender",
            "OnTempFormSave",
            "OnTemplateBeforeRemove",
            "OnTemplateBeforeSave",
            "OnTemplateRemove",
            "OnTemplateSave",
            "OnTemplateVarBeforeRemove",
            "OnTemplateVarBeforeSave",
            "OnTemplateVarRemove",
            "OnTemplateVarSave",
            "OnTVFormDelete",
            "OnTVFormPrerender",
            "OnTVFormRender",
            "OnTVFormSave",
            "OnTVInputPropertiesList",
            "OnTVInputRenderList",
            "OnTVOutputRenderList",
            "OnTVOutputRenderPropertiesList",
            "OnUserActivate",
            "OnUserAddToGroup",
            "OnUserBeforeAddToGroup",
            "OnUserBeforeRemove",
            "OnUserBeforeRemoveFromGroup",
            "OnUserBeforeSave",
            "OnUserChangePassword",
            "OnUserDeactivate",
            "OnUserDuplicate",
            "OnUserFormDelete",
            "OnUserFormPrerender",
            "OnUserFormRender",
            "OnUserFormSave",
            "OnUserGroupBeforeRemove",
            "OnUserGroupBeforeSave",
            "OnUserGroupFormSave",
            "OnUserGroupRemove",
            "OnUserGroupSave",
            "OnUserNotFound",
            "OnUserProfileBeforeRemove",
            "OnUserProfileBeforeSave",
            "OnUserProfileRemove",
            "OnUserProfileSave",
            "OnUserRemove",
            "OnUserRemoveFromGroup",
            "OnUserSave",
            "OnWebAuthentication",
            "OnWebLogin",
            "OnWebLogout",
            "OnWebPageComplete",
            "OnWebPageInit",
            "OnWebPagePrerender"
          ]
        },
        {
          "type": "string"
        }
      ]
    },
    "event": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "name"
      ],
      "properties": {
        "name": {
          "$ref": "#/definitions/eventName"
        },
        "priority": {
          "type": "integer"
        },
        "propertySet": {
          "type": "string"
        }
      }
    },
    "fredOptionSetting": {
      "anyOf": [
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["name", "label", "type"],
          "properties": {
            "name": {
              "type": "string"
            },
            "label": {
              "type": "string"
            },
            "type": {
              "const": "text"
            },
            "value": {
              "type": "string"
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["name", "label", "type"],
          "properties": {
            "name": {
              "type": "string"
            },
            "label": {
              "type": "string"
            },
            "type": {
              "const": "textarea"
            },
            "value": {
              "type": "string"
            },
            "rows": {
              "type": "number"
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["name", "label", "type"],
          "properties": {
            "name": {
              "type": "string"
            },
            "label": {
              "type": "string"
            },
            "type": {
              "const": "toggle"
            },
            "value": {
              "type": "boolean"
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["name", "label", "type"],
          "properties": {
            "name": {
              "type": "string"
            },
            "label": {
              "type": "string"
            },
            "type": {
              "const": "select"
            },
            "value": {
              "type": "string"
            },
            "options": {
              "type": "object",
              "additionalProperties": { "type": "string" }
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["name", "label", "type"],
          "properties": {
            "name": {
              "type": "string"
            },
            "label": {
              "type": "string"
            },
            "type": {
              "const": "colorswatch"
            },
            "value": {
              "type": "string"
            },
            "options": {
              "type": "array",
              "items": {
                "oneOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "value": {
                        "type": "string"
                      },
                      "color": {
                        "type": "string"
                      },
                      "label": {
                        "type": "string"
                      },
                      "width": {
                        "type": "number"
                      },
                      "colorAsClass": {
                        "type": "boolean"
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["name", "label", "type"],
          "properties": {
            "name": {
              "type": "string"
            },
            "label": {
              "type": "string"
            },
            "type": {
              "const": "colorpicker"
            },
            "value": {
              "type": "string"
            },
            "showAlpha": {
              "type": "boolean"
            },
            "options": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["name", "label", "type", "min", "max"],
          "properties": {
            "name": {
              "type": "string"
            },
            "label": {
              "type": "string"
            },
            "type": {
              "const": "slider"
            },
            "value": {
              "type": "string"
            },
            "min": {
              "type": "number"
            },
            "max": {
              "type": "number"
            },
            "tooltipDecimals": {
              "type": "number"
            },
            "step": {
              "type": "number"
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["name", "label", "type"],
          "properties": {
            "name": {
              "type": "string"
            },
            "label": {
              "type": "string"
            },
            "type": {
              "const": "page"
            },
            "value": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "id": {
                  "type": "number"
                },
                "url": {
                  "type": "string"
                }
              }
            },
            "clearButton": {
              "type": "boolean"
            },
            "depth": {
              "type": "number"
            },
            "resources": {
              "oneOf": [
                {"type": "string"},
                {"type": "number"},
                {
                  "type": "array",
                  "items": {
                    "type": "number"
                  }
                }
              ]
            },
            "parents": {
              "oneOf": [
                {"type": "string"},
                {"type": "number"},
                {
                  "type": "array",
                  "items": {
                    "type": "number"
                  }
                }
              ]
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["name", "label", "type"],
          "properties": {
            "name": {
              "type": "string"
            },
            "label": {
              "type": "string"
            },
            "type": {
              "const": "file"
            },
            "value": {
              "type": "string"
            },
            "mediaSource": {
              "type": "string"
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["name", "label", "type"],
          "properties": {
            "name": {
              "type": "string"
            },
            "label": {
              "type": "string"
            },
            "type": {
              "const": "folder"
            },
            "value": {
              "type": "string"
            },
            "mediaSource": {
              "type": "string"
            },
            "showOnlyFolders": {
              "type": "boolean"
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["name", "label", "type"],
          "properties": {
            "name": {
              "type": "string"
            },
            "label": {
              "type": "string"
            },
            "type": {
              "const": "image"
            },
            "value": {
              "type": "string"
            },
            "mediaSource": {
              "type": "string"
            },
            "showPreview": {
              "type": "boolean"
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["name", "label", "type"],
          "properties": {
            "name": {
              "type": "string"
            },
            "label": {
              "type": "string"
            },
            "type": {
              "const": "tagger"
            },
            "value": {
              "type": "string"
            },
            "group": {
              "type": "number"
            },
            "autoTag": {
              "type": "boolean"
            },
            "hideInput": {
              "type": "boolean"
            },
            "limit": {
              "type": "number"
            }
          }
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": ["fred-import"],
          "properties": {
            "fred-import": {
              "type": "string"
            }
          }
        }
      ]
    },
    "fredOptions": {
      "type": "object",
      "additionalProperties": true,
      "properties": {
        "remote": {
          "type": "boolean"
        },
        "cacheOutput": {
          "type": "boolean"
        },
        "mediaSource": {
          "type": "string"
        },
        "imageMediaSource": {
          "type": "string"
        },
        "toolbarPluginsInclude": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "toolbarPluginsExclude": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "settings": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "object",
                "additionalProperties": false,
                "required": ["group", "settings"],
                "properties": {
                  "group": {
                    "type": "string"
                  },
                  "settings": {
                    "type": "array",
                    "items": {
                      "$ref": "#/definitions/fredOptionSetting"
                    }
                  }
                }
              },
              {
                "$ref": "#/definitions/fredOptionSetting"
              }
            ]
          }
        }
      }
    },
    "category": {
      "oneOf": [
        {
          "type": "string"
        },
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      ]
    },
    "element": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "name"
      ],
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "file": {
          "type": "string"
        },
        "content": {
          "type": "string"
        },
        "category": {
          "$ref": "#/definitions/category"
        },
        "propertyPreProcess": {
          "type": "integer"
        },
        "properties": {
          "$ref": "#/definitions/properties"
        },
        "propertySets": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    }
  },
  "required": [
    "name",
    "version"
  ],
  "additionalProperties": false,
  "properties": {
    "name": {
      "type": "string",
      "description": "Package name"
    },
    "lowCaseName": {
      "type": "string"
    },
    "namespace": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "author": {
      "type": "string"
    },
    "version": {
      "type": "string",
      "pattern": "^[0-9]+.[0-9]+.[0-9]+(-[a-zA-Z]+)?[0-9]*$"
    },
    "menus": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/partialConfig"
              },
              {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "text"
                ],
                "properties": {
                  "text": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "action": {
                    "type": "string"
                  },
                  "parent": {
                    "type": "string",
                    "default": "components"
                  },
                  "icon": {
                    "type": "string"
                  },
                  "menuIndex": {
                    "type": "integer"
                  },
                  "params": {
                    "type": "string"
                  },
                  "handler": {
                    "type": "string"
                  },
                  "permission": {
                    "type": "string"
                  }
                }
              }
            ]
          }
        }
      ]
    },
    "systemSettings": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/partialConfig"
              },
              {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "key"
                ],
                "properties": {
                  "key": {
                    "type": "string"
                  },
                  "namespace": {
                    "type": "string"
                  },
                  "type": {
                    "$ref": "#/definitions/type"
                  },
                  "area": {
                    "type": "string",
                    "default": "default"
                  },
                  "value": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "number"
                      },
                      {
                        "type": "boolean"
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      ]
    },
    "categories": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "array",
          "items": {
            "$ref": "#/definitions/categories"
          }
        }
      ]
    },
    "snippets": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/partialConfig"
              },
              {
                "$ref": "#/definitions/element"
              }
            ]
          }
        }
      ]
    },
    "chunks": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/partialConfig"
              },
              {
                "$ref": "#/definitions/element"
              }
            ]
          }
        }
      ]
    },
    "plugins": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/partialConfig"
              },
              {
                "allOf": [
                  {
                    "$ref": "#/definitions/element"
                  },
                  {
                    "properties": {
                      "disabled": {
                        "type": "boolean"
                      },
                      "events": {
                        "type": "array",
                        "items": {
                          "anyOf": [
                            {
                              "$ref": "#/definitions/eventName"
                            },
                            {
                              "$ref": "#/definitions/event"
                            }
                          ]
                        }
                      }
                    }
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "templates": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/partialConfig"
              },
              {
                "allOf": [
                  {
                    "$ref": "#/definitions/element"
                  },
                  {
                    "properties": {
                      "icon": {
                        "type": "string"
                      }
                    }
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "tvs": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/partialConfig"
              },
              {
                "allOf": [
                  {
                    "$ref": "#/definitions/element"
                  },
                  {
                    "properties": {
                      "caption": {
                        "type": "string"
                      },
                      "defaultValue": {
                        "type": "string"
                      },
                      "type": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": [
                              "autotag",
                              "checkbox",
                              "date",
                              "email",
                              "file",
                              "hidden",
                              "image",
                              "listbox-multiple",
                              "listbox",
                              "number",
                              "option",
                              "resourcelist",
                              "richtext",
                              "tag",
                              "text",
                              "textarea",
                              "url"
                            ]
                          },
                          {
                            "type": "string"
                          }
                        ]
                      },
                      "inputOptionValues": {
                        "type": "string"
                      },
                      "outputType": {
                        "anyOf": [
                          {
                            "type": "string",
                            "enum": [
                              "date",
                              "default",
                              "delim",
                              "htmltag",
                              "image",
                              "richtext",
                              "string",
                              "text",
                              "url"
                            ]
                          },
                          {
                            "type": "string"
                          }
                        ]
                      },
                      "inputOptions": {
                        "type": "object"
                      },
                      "outputOptions": {
                        "type": "object"
                      },
                      "templates": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "sortOrder": {
                        "type": "number"
                      }
                    }
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "propertySets": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/partialConfig"
              },
              {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "category": {
                    "$ref": "#/definitions/category"
                  },
                  "properties": {
                    "$ref": "#/definitions/properties"
                  }
                }
              }
            ]
          }
        }
      ]
    },
    "build": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "readme": {
              "type": "string"
            },
            "license": {
              "type": "string"
            },
            "changelog": {
              "type": "string"
            },
            "scriptsBefore": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "requires": {
              "type": "object"
            },
            "setupOptions": {
              "type": "string"
            },
            "installValidator": {
              "type": "string"
            },
            "unInstallValidator": {
              "type": "string"
            },
            "scriptsAfter": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      ]
    },
    "database": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "tables": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      ]
    },
    "widgets": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/partialConfig"
              },
              {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string",
                    "default": "file",
                    "enum": [
                      "html",
                      "file",
                      "snippet",
                      "php"
                    ]
                  },
                  "size": {
                    "type": "string",
                    "default": "half",
                    "enum": [
                      "quarter",
                      "one-third",
                      "half",
                      "two-third",
                      "three-quarters",
                      "full",
                      "double"
                    ]
                  },
                  "content": {
                    "type": "string"
                  },
                  "lexicon": {
                    "type": "string"
                  },
                  "permission": {
                    "type": "string"
                  },
                  "properties": {
                    "type": "object"
                  }
                }
              }
            ]
          }
        }
      ]
    },
    "fred": {
      "oneOf": [
        {
          "$ref": "#/definitions/partialConfig"
        },
        {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "templates": {
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "defaultBlueprint": {
                    "type": "string"
                  }
                }
              }
            },
            "elementCategories": {
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "rank": {
                    "type": "number"
                  },
                  "uuid": {
                    "type": "string"
                  },
                  "templates": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "elements": {
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "name",
                  "category"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "image": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string"
                  },
                  "option_set": {
                    "type": "string"
                  },
                  "rank": {
                    "type": "number"
                  },
                  "content": {
                    "type": "string"
                  },
                  "file": {
                    "type": "string"
                  },
                  "uuid": {
                    "type": "string"
                  },
                  "options_override": {
                    "allOf": [
                      {
                        "$ref": "#/definitions/fredOptions"
                      },
                      {
                        "properties": {
                          "merge": {
                            "type": "boolean"
                          },
                          "rteConfig": {
                            "type": "object"
                          }
                        }
                      }
                    ]
                  },
                  "templates": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "blueprintCategories": {
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "public": {
                    "type": "boolean"
                  },
                  "rank": {
                    "type": "number"
                  },
                  "uuid": {
                    "type": "string"
                  },
                  "templates": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "blueprints": {
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "uuid",
                  "name",
                  "category"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "image": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string"
                  },
                  "rank": {
                    "type": "number"
                  },
                  "public": {
                    "type": "boolean"
                  },
                  "uuid": {
                    "type": "string"
                  },
                  "templates": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            },
            "optionSets": {
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "file": {
                    "type": "string"
                  },
                  "content": {
                    "$ref": "#/definitions/fredOptions"
                  },
                  "rank": {
                    "type": "number"
                  },
                  "complete": {
                    "type": "boolean"
                  }
                }
              }
            },
            "rteConfigs": {
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "file": {
                    "type": "string"
                  },
                  "content": {
                    "type": "object"
                  }
                }
              }
            },
            "theme": {
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "uuid": {
                  "type": "string"
                },
                "settings": {
                  "type": "string"
                }
              }
            }
          }
        }
      ]
    }
  }
}
